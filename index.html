<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SB Ã‡aÄŸdaÅŸ Mobilya - Ultimate Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { scroll-behavior: smooth; }
        .hero-bg { background: linear-gradient(135deg, rgba(0,0,0,0.7), rgba(139,69,19,0.6)); }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 9999; align-items: center; justify-content: center; padding: 20px; }
        .modal.show { display: flex; }
        .chat-widget { position: fixed; bottom: 20px; right: 20px; z-index: 9998; }
        .chat-box { display: none; width: 100%; max-width: 380px; height: 90vh; max-height: 550px; background: white; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); flex-direction: column; }
        .chat-box.show { display: flex; }
        .message { margin-bottom: 15px; animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .star { color: #d1d5db; cursor: pointer; font-size: 28px; transition: all 0.2s; }
        .star.active, .star:hover { color: #fbbf24; transform: scale(1.2); }
        
        /* MOBILE RESPONSIVE */
        @media (max-width: 768px) {
            nav .nav-links { display: none; }
            .chat-widget { bottom: 10px; right: 10px; }
            .chat-box { bottom: 80px; right: 10px; left: 10px; width: auto; max-width: none; }
            #hero h1 { font-size: 2.5rem !important; }
            #hero p { font-size: 1rem !important; }
            section h2 { font-size: 2rem !important; }
            .admin-section { padding: 1rem !important; }
            .category-card { margin-bottom: 1rem; }
        }
        
        /* HAMBURGER MENU */
        .hamburger { display: none; cursor: pointer; }
        .hamburger div { width: 25px; height: 3px; background: #b45309; margin: 5px 0; transition: 0.3s; }
        
        @media (max-width: 768px) {
            .hamburger { display: block; }
            .nav-links { 
                position: fixed;
                top: 0;
                right: -100%;
                width: 70%;
                height: 100vh;
                background: white;
                flex-direction: column;
                padding: 80px 30px;
                box-shadow: -5px 0 15px rgba(0,0,0,0.2);
                transition: 0.3s;
                z-index: 999;
            }
            .nav-links.active { right: 0; }
            .nav-links a { margin: 15px 0 !important; font-size: 1.2rem; }
        }
    </style>
</head>
<body class="bg-gray-50">

<!-- NAVBAR -->
<nav class="bg-white shadow-lg sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
        <h1 id="siteTitle" class="text-2xl md:text-3xl font-black text-amber-700">SB Ã‡AÄDAÅ MOBÄ°LYA</h1>
        
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
        
        <div class="nav-links flex gap-4 md:gap-6">
            <a href="#about" class="font-semibold text-gray-700 hover:text-amber-600 transition">HakkÄ±mÄ±zda</a>
            <a href="#products" class="font-semibold text-gray-700 hover:text-amber-600 transition">ÃœrÃ¼nler</a>
            <a href="#reviews" class="font-semibold text-gray-700 hover:text-amber-600 transition">Yorumlar</a>
            <a href="#contact" class="font-semibold text-gray-700 hover:text-amber-600 transition">Ä°letiÅŸim</a>
            <a href="#admin" class="text-gray-400 hover:text-red-600"><i class="fas fa-cog"></i></a>
        </div>
    </div>
</nav>

<!-- HERO -->
<section id="hero" class="relative h-screen flex items-center justify-center">
    <div id="heroBg" class="absolute inset-0 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1556912167-f556f1f39fdf?w=1920')"></div>
    <div class="absolute inset-0 hero-bg"></div>
    <div class="relative z-10 text-center text-white px-6">
        <h1 id="heroTitle" class="text-4xl md:text-7xl font-black mb-4 md:mb-6 leading-tight">HAYALLERÄ°NÄ°ZDEKÄ° MEKAN</h1>
        <p id="heroSubtitle" class="text-lg md:text-2xl mb-8 md:mb-12 font-light">Ã–zel tasarÄ±m mobilyalarla yaÅŸam alanlarÄ±nÄ±zÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz</p>
        <a href="#contact" class="inline-block bg-amber-600 hover:bg-amber-700 text-white px-8 md:px-12 py-4 md:py-5 rounded-full font-bold text-base md:text-lg transition-all transform hover:scale-105 shadow-2xl">
            ÃœCRETSÄ°Z TEKLÄ°F ALIN
        </a>
    </div>
</section>

<!-- HAKKIMIZDA -->
<section id="about" class="py-16 md:py-24 px-6 bg-white">
    <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl md:text-5xl font-black text-center mb-12 md:mb-16">HakkÄ±mÄ±zda</h2>
        <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
            <img id="aboutImg" src="https://images.unsplash.com/photo-1581858726788-75bc0f6a952d?w=800" class="rounded-3xl shadow-2xl">
            <div>
                <p id="aboutText" class="text-base md:text-lg text-gray-700 leading-relaxed mb-6">
                    20 yÄ±lÄ± aÅŸkÄ±n tecrÃ¼bemizle, BeylikdÃ¼zÃ¼'nÃ¼n en gÃ¼venilir mobilya Ã¼reticisiyiz. 
                    Her projede mÃ¼ÅŸteri memnuniyetini Ã¶n planda tutarak, hayalinizdeki yaÅŸam alanlarÄ±nÄ± gerÃ§eÄŸe dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz.
                </p>
                <div class="grid grid-cols-3 gap-6 mt-8">
                    <div class="text-center">
                        <p class="text-4xl font-black text-amber-600">20+</p>
                        <p class="text-sm text-gray-600 mt-2">YÄ±l TecrÃ¼be</p>
                    </div>
                    <div class="text-center">
                        <p class="text-4xl font-black text-amber-600">500+</p>
                        <p class="text-sm text-gray-600 mt-2">Mutlu MÃ¼ÅŸteri</p>
                    </div>
                    <div class="text-center">
                        <p class="text-4xl font-black text-amber-600">100%</p>
                        <p class="text-sm text-gray-600 mt-2">Memnuniyet</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ÃœRÃœNLER -->
<section id="products" class="py-16 md:py-24 px-6 bg-gray-100">
    <div class="max-w-7xl mx-auto">
        <h2 class="text-3xl md:text-5xl font-black text-center mb-12 md:mb-16">ÃœrÃ¼n Kategorilerimiz</h2>
        <div id="categoryGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8"></div>
    </div>
</section>

<!-- YORUMLAR -->
<section id="reviews" class="py-16 md:py-24 px-6 bg-white">
    <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl md:text-5xl font-black text-center mb-12 md:mb-16">MÃ¼ÅŸteri YorumlarÄ±</h2>
        <div id="reviewsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 mb-8 md:mb-12"></div>
        <div class="text-center">
            <button onclick="openReviewForm()" class="bg-amber-600 hover:bg-amber-700 text-white px-8 md:px-10 py-3 md:py-4 rounded-full font-bold text-base md:text-lg transition">
                <i class="fas fa-star mr-2"></i> YORUM YAZ
            </button>
        </div>
    </div>
</section>

<!-- Ä°LETÄ°ÅÄ°M -->
<section id="contact" class="py-16 md:py-24 px-6 bg-gray-900 text-white">
    <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl md:text-5xl font-black text-center mb-12 md:mb-16">Ä°letiÅŸim</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
            <div class="space-y-6">
                <div class="flex items-center gap-4">
                    <i class="fas fa-map-marker-alt text-3xl text-amber-500"></i>
                    <div>
                        <p class="text-sm text-gray-400">Adres</p>
                        <p id="contactAddress" class="text-lg font-semibold">Yakuplu Mah. BeylikdÃ¼zÃ¼ / Ä°STANBUL</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <i class="fas fa-phone text-3xl text-amber-500"></i>
                    <div>
                        <p class="text-sm text-gray-400">Telefon</p>
                        <p id="contactPhone" class="text-lg font-semibold">0541 224 52 56</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <i class="fas fa-envelope text-3xl text-amber-500"></i>
                    <div>
                        <p class="text-sm text-gray-400">E-posta</p>
                        <p id="contactEmail" class="text-lg font-semibold"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c2abaca4ad82b1a0a1a3a5a6a3b1eca1adaf">[email&#160;protected]</a></p>
                    </div>
                </div>
                <div class="flex gap-4 mt-8">
                    <a id="instagram" href="#" target="_blank" class="w-12 h-12 bg-pink-600 rounded-full flex items-center justify-center hover:scale-110 transition">
                        <i class="fab fa-instagram text-xl"></i>
                    </a>
                    <a id="facebook" href="#" target="_blank" class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center hover:scale-110 transition">
                        <i class="fab fa-facebook-f text-xl"></i>
                    </a>
                    <a id="tiktok" href="#" target="_blank" class="w-12 h-12 bg-black rounded-full flex items-center justify-center hover:scale-110 transition">
                        <i class="fab fa-tiktok text-xl"></i>
                    </a>
                    <a id="youtube" href="#" target="_blank" class="w-12 h-12 bg-red-600 rounded-full flex items-center justify-center hover:scale-110 transition">
                        <i class="fab fa-youtube text-xl"></i>
                    </a>
                </div>
            </div>
            <div class="bg-white/10 p-8 rounded-3xl backdrop-blur">
                <h3 class="text-2xl font-bold mb-6">HÄ±zlÄ± Mesaj</h3>
                <input id="qName" placeholder="AdÄ±nÄ±z" class="w-full p-4 rounded-xl mb-4 bg-white/20 text-white placeholder-white/60">
                <textarea id="qMessage" placeholder="MesajÄ±nÄ±z" rows="4" class="w-full p-4 rounded-xl mb-4 bg-white/20 text-white placeholder-white/60"></textarea>
                <button onclick="sendQuickMessage()" class="w-full bg-amber-600 hover:bg-amber-700 text-white p-4 rounded-xl font-bold transition">
                    MESAJ GÃ–NDER
                </button>
            </div>
        </div>
    </div>
</section>

<!-- ADMIN PANELÄ° -->
<section id="admin" class="py-24 px-6 bg-red-50">
    <div id="adminLogin" class="max-w-md mx-auto bg-white p-8 rounded-3xl shadow-2xl border-4 border-red-500">
        <div class="text-center mb-6">
            <i class="fas fa-shield-alt text-6xl text-red-500 mb-4"></i>
            <h3 class="text-3xl font-black text-gray-800">ğŸ” ADMIN GÄ°RÄ°ÅÄ°</h3>
        </div>
        <input id="adminPass" type="password" placeholder="Åifre Girin" class="w-full p-5 rounded-xl border-4 border-red-300 mb-4 text-center font-bold text-2xl">
        <button onclick="adminLogin()" class="w-full bg-red-600 hover:bg-red-700 text-white p-5 rounded-xl font-black text-xl transition">
            GÄ°RÄ°Å YAP
        </button>
    </div>

    <div id="adminPanel" style="display:none;" class="max-w-7xl mx-auto mt-8">
        <div class="bg-gradient-to-r from-red-600 to-red-700 text-white p-8 rounded-t-3xl flex justify-between items-center">
            <h2 class="text-4xl font-black">âš™ï¸ YÃ–NETÄ°M PANELÄ°</h2>
            <button onclick="saveAll()" class="bg-green-600 hover:bg-green-700 px-10 py-5 rounded-xl font-black text-xl transition shadow-2xl">
                ğŸ’¾ KAYDET
            </button>
        </div>
        
        <div class="bg-white p-12 rounded-b-3xl shadow-2xl space-y-12">
            <!-- GENEL -->
            <div class="border-4 border-amber-500 rounded-2xl p-8 bg-amber-50">
                <h3 class="text-3xl font-black text-amber-800 mb-6">âš™ï¸ GENEL AYARLAR</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block font-bold mb-2">Site BaÅŸlÄ±ÄŸÄ±</label>
                        <input id="a_title" class="w-full p-4 rounded-xl border-2 text-xl font-bold">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">Hero BaÅŸlÄ±k</label>
                        <input id="a_heroTitle" class="w-full p-4 rounded-xl border-2 text-xl font-bold">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">Hero Alt BaÅŸlÄ±k</label>
                        <input id="a_heroSub" class="w-full p-4 rounded-xl border-2">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">Hero Arkaplan URL</label>
                        <input id="a_heroBg" class="w-full p-4 rounded-xl border-2">
                    </div>
                </div>
            </div>

            <!-- HAKKIMIZDA -->
            <div class="border-4 border-blue-500 rounded-2xl p-8 bg-blue-50">
                <h3 class="text-3xl font-black text-blue-800 mb-6">ğŸ“– HAKKIMIZDA</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block font-bold mb-2">HakkÄ±mÄ±zda Metni</label>
                        <textarea id="a_aboutText" rows="5" class="w-full p-4 rounded-xl border-2"></textarea>
                    </div>
                    <div>
                        <label class="block font-bold mb-2">HakkÄ±mÄ±zda FotoÄŸraf URL</label>
                        <input id="a_aboutImg" class="w-full p-4 rounded-xl border-2">
                    </div>
                </div>
            </div>

            <!-- KATEGORÄ°LER - EN Ã–NEMLÄ° BÃ–LÃœM! -->
            <div class="border-8 border-green-500 rounded-2xl p-8 bg-green-50">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-4xl font-black text-green-800">ğŸ“¸ KATEGORÄ°LER VE FOTOÄRAFLAR</h3>
                    <button onclick="addNewCategory()" class="bg-green-600 hover:bg-green-700 text-white px-8 py-5 rounded-xl font-black text-2xl transition shadow-xl">
                        â• YENÄ° KATEGORÄ° EKLE
                    </button>
                </div>
                <div id="categoriesContainer"></div>
            </div>

            <!-- Ä°LETÄ°ÅÄ°M -->
            <div class="border-4 border-purple-500 rounded-2xl p-8 bg-purple-50">
                <h3 class="text-3xl font-black text-purple-800 mb-6">ğŸ“ Ä°LETÄ°ÅÄ°M BÄ°LGÄ°LERÄ°</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block font-bold mb-2">Adres</label>
                        <input id="a_address" class="w-full p-4 rounded-xl border-2">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">Telefon</label>
                        <input id="a_phone" class="w-full p-4 rounded-xl border-2">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">E-posta</label>
                        <input id="a_email" class="w-full p-4 rounded-xl border-2">
                    </div>
                </div>
            </div>

            <!-- SOSYAL MEDYA -->
            <div class="border-4 border-pink-500 rounded-2xl p-8 bg-pink-50">
                <h3 class="text-3xl font-black text-pink-800 mb-6">ğŸŒ SOSYAL MEDYA</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block font-bold mb-2">Instagram</label>
                        <input id="a_instagram" class="w-full p-4 rounded-xl border-2">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">Facebook</label>
                        <input id="a_facebook" class="w-full p-4 rounded-xl border-2">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">TikTok</label>
                        <input id="a_tiktok" class="w-full p-4 rounded-xl border-2">
                    </div>
                    <div>
                        <label class="block font-bold mb-2">YouTube</label>
                        <input id="a_youtube" class="w-full p-4 rounded-xl border-2">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- GALERÄ° MODAL -->
<div id="galleryModal" class="modal">
    <div class="max-w-6xl w-full p-6">
        <div class="flex justify-between items-center mb-6">
            <h2 id="gTitle" class="text-4xl font-black text-white"></h2>
            <button onclick="closeGallery()" class="text-white text-5xl hover:text-red-500">&times;</button>
        </div>
        <div id="gContent" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
    </div>
</div>

<!-- YORUM MODAL -->
<div id="reviewModal" class="modal">
    <div class="bg-white rounded-3xl p-8 max-w-md w-full">
        <h3 class="text-3xl font-black mb-6">â­ Yorum Yaz</h3>
        <input id="rName" placeholder="AdÄ±nÄ±z" class="w-full p-4 rounded-xl border-2 mb-4">
        <div class="mb-4">
            <p class="font-bold mb-2">Puan:</p>
            <div class="flex gap-2" id="stars">
                <i class="fas fa-star star active" data-rating="1"></i>
                <i class="fas fa-star star active" data-rating="2"></i>
                <i class="fas fa-star star active" data-rating="3"></i>
                <i class="fas fa-star star active" data-rating="4"></i>
                <i class="fas fa-star star active" data-rating="5"></i>
            </div>
        </div>
        <textarea id="rText" placeholder="Yorumunuz..." rows="5" class="w-full p-4 rounded-xl border-2 mb-4"></textarea>
        <div class="flex gap-4">
            <button onclick="submitReview()" class="flex-1 bg-amber-600 hover:bg-amber-700 text-white p-4 rounded-xl font-bold">GÃ–NDER</button>
            <button onclick="closeReviewForm()" class="flex-1 bg-gray-300 text-gray-800 p-4 rounded-xl font-bold">Ä°PTAL</button>
        </div>
    </div>
</div>

<!-- AI CHATBOT -->
<div class="chat-widget">
    <div id="chatBox" class="chat-box">
        <div class="bg-gradient-to-r from-amber-600 to-amber-700 p-4 rounded-t-2xl flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center">
                    <i class="fas fa-robot text-amber-600"></i>
                </div>
                <div>
                    <p class="font-bold text-white">SB Asistan</p>
                    <p class="text-xs text-white/80">Online</p>
                </div>
            </div>
            <button onclick="toggleChat()" class="text-white text-2xl">&times;</button>
        </div>
        <div id="chatMessages" class="flex-1 overflow-y-auto p-4 bg-gray-50"></div>
        <div class="p-4 border-t">
            <div class="flex gap-2">
                <input id="chatInput" placeholder="Mesaj yazÄ±n..." class="flex-1 p-3 rounded-xl border-2" onkeypress="if(event.key==='Enter') sendChat()">
                <button onclick="sendChat()" class="bg-amber-600 text-white px-6 rounded-xl font-bold"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
    <button onclick="toggleChat()" class="w-16 h-16 bg-amber-600 hover:bg-amber-700 text-white rounded-full shadow-2xl flex items-center justify-center text-2xl">
        <i class="fas fa-comment-dots"></i>
    </button>
</div>

<footer class="bg-gray-900 text-white py-8 text-center">
    <p>&copy; 2026 SB Ã‡aÄŸdaÅŸ Mobilya - TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
</footer>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
let DATA = {
    general: { title: 'SB Ã‡AÄDAÅ MOBÄ°LYA', heroTitle: 'HAYALLERÄ°NÄ°ZDEKÄ° MEKAN', heroSub: 'Ã–zel tasarÄ±m mobilyalarla yaÅŸam alanlarÄ±nÄ±zÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz', heroBg: 'https://images.unsplash.com/photo-1556912167-f556f1f39fdf?w=1920' },
    about: { text: '20 yÄ±lÄ± aÅŸkÄ±n tecrÃ¼bemizle, BeylikdÃ¼zÃ¼\'nÃ¼n en gÃ¼venilir mobilya Ã¼reticisiyiz.', img: 'https://images.unsplash.com/photo-1581858726788-75bc0f6a952d?w=800' },
    categories: [],
    contact: { address: 'Yakuplu Mah. BeylikdÃ¼zÃ¼ / Ä°STANBUL', phone: '0541 224 52 56', email: 'info@sbcagdas.com' },
    social: { instagram: '#', facebook: '#', tiktok: '#', youtube: '#' },
    reviews: []
};

let rating = 5;

const saved = localStorage.getItem('sbData');
if (saved) DATA = JSON.parse(saved);

function render() {
    document.getElementById('siteTitle').textContent = DATA.general.title;
    document.getElementById('heroTitle').textContent = DATA.general.heroTitle;
    document.getElementById('heroSubtitle').textContent = DATA.general.heroSub;
    document.getElementById('heroBg').style.backgroundImage = `url('${DATA.general.heroBg}')`;
    document.getElementById('aboutText').textContent = DATA.about.text;
    document.getElementById('aboutImg').src = DATA.about.img;
    document.getElementById('contactAddress').textContent = DATA.contact.address;
    document.getElementById('contactPhone').textContent = DATA.contact.phone;
    document.getElementById('contactEmail').textContent = DATA.contact.email;
    document.getElementById('instagram').href = DATA.social.instagram;
    document.getElementById('facebook').href = DATA.social.facebook;
    document.getElementById('tiktok').href = DATA.social.tiktok;
    document.getElementById('youtube').href = DATA.social.youtube;
    
    document.getElementById('categoryGrid').innerHTML = DATA.categories.map((c, i) => `
        <div class="bg-white rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition transform hover:-translate-y-2">
            <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden">
                ${c.photos && c.photos.length > 0 ? `<img src="${c.photos[0]}" class="w-full h-full object-cover">` : `<i class="fas fa-image text-6xl text-gray-400"></i>`}
            </div>
            <div class="p-6 text-center">
                <h3 class="text-2xl font-black mb-2">${c.name}</h3>
                <p class="text-gray-600 mb-4">${c.photos ? c.photos.length : 0} FotoÄŸraf</p>
                <button onclick="openGallery(${i})" class="bg-amber-600 hover:bg-amber-700 text-white px-6 py-3 rounded-xl font-bold transition">GALERÄ°YÄ° GÃ–STER</button>
            </div>
        </div>
    `).join('');
    
    document.getElementById('reviewsGrid').innerHTML = DATA.reviews.map(r => `
        <div class="bg-gray-50 p-6 rounded-2xl shadow-lg">
            <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 bg-amber-600 rounded-full flex items-center justify-center text-white font-bold text-xl">${r.name.charAt(0)}</div>
                <div>
                    <p class="font-bold">${r.name}</p>
                    <div class="text-yellow-400">${'â˜…'.repeat(r.rating)}${'â˜†'.repeat(5-r.rating)}</div>
                </div>
            </div>
            <p class="text-gray-700">${r.text}</p>
        </div>
    `).join('');
}

function openGallery(i) {
    const c = DATA.categories[i];
    document.getElementById('gTitle').textContent = c.name;
    document.getElementById('gContent').innerHTML = c.photos && c.photos.length > 0 ? c.photos.map(p => `
        <div class="aspect-square rounded-xl overflow-hidden">
            <img src="${p}" class="w-full h-full object-cover hover:scale-110 transition">
        </div>
    `).join('') : '<p class="text-white col-span-full text-center">HenÃ¼z fotoÄŸraf yok</p>';
    document.getElementById('galleryModal').classList.add('show');
}

function closeGallery() {
    document.getElementById('galleryModal').classList.remove('show');
}

function openReviewForm() {
    document.getElementById('reviewModal').classList.add('show');
}

function closeReviewForm() {
    document.getElementById('reviewModal').classList.remove('show');
}

function submitReview() {
    const name = document.getElementById('rName').value.trim();
    const text = document.getElementById('rText').value.trim();
    if (!name || !text) return alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun!');
    DATA.reviews.push({ name, rating, text });
    saveAll();
    render();
    closeReviewForm();
    document.getElementById('rName').value = '';
    document.getElementById('rText').value = '';
    alert('âœ… Yorumunuz eklendi!');
}

document.querySelectorAll('.star').forEach(s => {
    s.addEventListener('click', function() {
        rating = parseInt(this.dataset.rating);
        document.querySelectorAll('.star').forEach((st, i) => {
            if (i < rating) st.classList.add('active');
            else st.classList.remove('active');
        });
    });
});

function sendQuickMessage() {
    const name = document.getElementById('qName').value.trim();
    const msg = document.getElementById('qMessage').value.trim();
    if (!name || !msg) return alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun!');
    window.open(`https://wa.me/905412245256?text=Merhaba, ben ${name}. ${msg}`, '_blank');
    document.getElementById('qName').value = '';
    document.getElementById('qMessage').value = '';
}

function adminLogin() {
    if (document.getElementById('adminPass').value === '3421') {
        document.getElementById('adminLogin').style.display = 'none';
        document.getElementById('adminPanel').style.display = 'block';
        loadAdmin();
    } else {
        alert('âŒ HatalÄ± ÅŸifre!');
    }
}

function loadAdmin() {
    document.getElementById('a_title').value = DATA.general.title;
    document.getElementById('a_heroTitle').value = DATA.general.heroTitle;
    document.getElementById('a_heroSub').value = DATA.general.heroSub;
    document.getElementById('a_heroBg').value = DATA.general.heroBg;
    document.getElementById('a_aboutText').value = DATA.about.text;
    document.getElementById('a_aboutImg').value = DATA.about.img;
    document.getElementById('a_address').value = DATA.contact.address;
    document.getElementById('a_phone').value = DATA.contact.phone;
    document.getElementById('a_email').value = DATA.contact.email;
    document.getElementById('a_instagram').value = DATA.social.instagram;
    document.getElementById('a_facebook').value = DATA.social.facebook;
    document.getElementById('a_tiktok').value = DATA.social.tiktok;
    document.getElementById('a_youtube').value = DATA.social.youtube;
    renderCategories();
}

function renderCategories() {
    document.getElementById('categoriesContainer').innerHTML = DATA.categories.map((c, i) => `
        <div class="mb-8 p-6 bg-white rounded-2xl border-4 border-green-400 shadow-xl">
            <div class="flex justify-between items-center mb-4">
                <input value="${c.name}" onchange="DATA.categories[${i}].name = this.value" class="text-3xl font-black border-b-4 border-green-600 outline-none px-4 py-2 flex-1 bg-transparent">
                <button onclick="deleteCat(${i})" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-bold ml-4">
                    ğŸ—‘ï¸ SÄ°L
                </button>
            </div>
            <div class="mb-4">
                <p class="font-bold mb-2 text-xl">ğŸ“¤ FOTOÄRAF YÃœKLE:</p>
                <div class="grid md:grid-cols-2 gap-4">
                    <label class="bg-green-600 hover:bg-green-700 text-white p-5 rounded-xl cursor-pointer font-bold text-center transition">
                        ğŸ“‚ BÄ°LGÄ°SAYARDAN YÃœKLE (TOPLU)
                        <input type="file" accept="image/*" multiple onchange="uploadPhotos(${i}, this)" class="hidden">
                    </label>
                    <div class="flex gap-2">
                        <input id="url${i}" placeholder="veya URL girin" class="flex-1 p-4 rounded-xl border-2">
                        <button onclick="addUrl(${i})" class="bg-blue-600 hover:bg-blue-700 text-white px-6 rounded-xl font-bold">+ EKLE</button>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-4 gap-3">
                ${c.photos && c.photos.length > 0 ? c.photos.map((p, j) => `
                    <div class="relative group">
                        <img src="${p}" class="w-full h-24 object-cover rounded-xl shadow">
                        <button onclick="deletePhoto(${i}, ${j})" class="absolute top-1 right-1 bg-red-600 text-white w-8 h-8 rounded-full opacity-0 group-hover:opacity-100 transition">Ã—</button>
                    </div>
                `).join('') : '<p class="col-span-4 text-center text-gray-400 py-8 bg-gray-100 rounded-xl">HenÃ¼z fotoÄŸraf yok</p>'}
            </div>
        </div>
    `).join('');
}

function addNewCategory() {
    DATA.categories.push({ name: 'Yeni Kategori', photos: [] });
    renderCategories();
    alert('âœ… Yeni kategori eklendi! Kaydetmeyi unutmayÄ±n!');
}

function deleteCat(i) {
    if (confirm('Bu kategoriyi silmek istediÄŸinize emin misiniz?')) {
        DATA.categories.splice(i, 1);
        renderCategories();
        render();
    }
}

function uploadPhotos(catIndex, input) {
    const files = Array.from(input.files);
    if (!DATA.categories[catIndex].photos) DATA.categories[catIndex].photos = [];
    
    let loaded = 0;
    files.forEach(file => {
        const reader = new FileReader();
        reader.onload = (e) => {
            DATA.categories[catIndex].photos.push(e.target.result);
            loaded++;
            if (loaded === files.length) {
                renderCategories();
                render();
                alert(`âœ… ${files.length} fotoÄŸraf yÃ¼klendi! Kaydetmeyi unutmayÄ±n!`);
            }
        };
        reader.readAsDataURL(file);
    });
}

function addUrl(catIndex) {
    const url = document.getElementById(`url${catIndex}`).value.trim();
    if (!url) return alert('âš ï¸ LÃ¼tfen URL girin!');
    if (!DATA.categories[catIndex].photos) DATA.categories[catIndex].photos = [];
    DATA.categories[catIndex].photos.push(url);
    document.getElementById(`url${catIndex}`).value = '';
    renderCategories();
    render();
    alert('âœ… FotoÄŸraf eklendi!');
}

function deletePhoto(catIndex, photoIndex) {
    if (confirm('Bu fotoÄŸrafÄ± silmek istediÄŸinize emin misiniz?')) {
        DATA.categories[catIndex].photos.splice(photoIndex, 1);
        renderCategories();
        render();
    }
}

function saveAll() {
    DATA.general.title = document.getElementById('a_title').value;
    DATA.general.heroTitle = document.getElementById('a_heroTitle').value;
    DATA.general.heroSub = document.getElementById('a_heroSub').value;
    DATA.general.heroBg = document.getElementById('a_heroBg').value;
    DATA.about.text = document.getElementById('a_aboutText').value;
    DATA.about.img = document.getElementById('a_aboutImg').value;
    DATA.contact.address = document.getElementById('a_address').value;
    DATA.contact.phone = document.getElementById('a_phone').value;
    DATA.contact.email = document.getElementById('a_email').value;
    DATA.social.instagram = document.getElementById('a_instagram').value;
    DATA.social.facebook = document.getElementById('a_facebook').value;
    DATA.social.tiktok = document.getElementById('a_tiktok').value;
    DATA.social.youtube = document.getElementById('a_youtube').value;
    
    localStorage.setItem('sbData', JSON.stringify(DATA));
    render();
    alert('ğŸ’¾ TÃœM DEÄÄ°ÅÄ°KLÄ°KLER KAYDEDÄ°LDÄ°!');
}

// CHATBOT
const KB = {
    greetings: ['merhaba', 'selam', 'hey', 'hi'],
    farewell: ['bay', 'gÃ¶rÃ¼ÅŸÃ¼rÃ¼z'],
    questions: {
        'mutfak': 'Mutfak mobilyalarÄ±mÄ±z Ã¶zel Ã¶lÃ§Ã¼ ve tasarÄ±mdadÄ±r. Tel: 0541 224 52 56',
        'banyo': 'Banyo dolaplarÄ± iÃ§in Ã¶zel Ã§Ã¶zÃ¼mler sunuyoruz. Tel: 0541 224 52 56',
        'fiyat': 'Fiyatlar metraj ve modele gÃ¶re deÄŸiÅŸir. Ãœcretsiz keÅŸif: 0541 224 52 56',
        'teslimat': 'Ãœretim sÃ¼resi 15-20 gÃ¼ndÃ¼r. Montaj dahil teslimat.',
        'garanti': 'TÃ¼m Ã¼rÃ¼nlerde 2 yÄ±l garanti.',
        'adres': DATA.contact.address,
        'telefon': DATA.contact.phone
    }
};

function toggleChat() {
    const box = document.getElementById('chatBox');
    if (box.classList.contains('show')) {
        box.classList.remove('show');
    } else {
        box.classList.add('show');
        const msgs = document.getElementById('chatMessages');
        if (!msgs.children.length) {
            addBotMsg('Merhaba! ğŸ‘‹ Size nasÄ±l yardÄ±mcÄ± olabilirim? Mutfak, banyo, fiyat, teslimat hakkÄ±nda sorabilirsiniz.');
        }
    }
}

function sendChat() {
    const input = document.getElementById('chatInput');
    const msg = input.value.trim();
    if (!msg) return;
    
    addUserMsg(msg);
    input.value = '';
    
    setTimeout(() => {
        const response = getBot(msg.toLowerCase());
        addBotMsg(response);
    }, 500);
}

function addUserMsg(text) {
    const div = document.createElement('div');
    div.className = 'message flex justify-end';
    div.innerHTML = `<div class="bg-amber-600 text-white px-4 py-3 rounded-2xl max-w-[70%]">${text}</div>`;
    document.getElementById('chatMessages').appendChild(div);
    document.getElementById('chatMessages').scrollTop = 999999;
}

function addBotMsg(text) {
    const div = document.createElement('div');
    div.className = 'message flex justify-start';
    div.innerHTML = `<div class="bg-white border-2 text-gray-800 px-4 py-3 rounded-2xl max-w-[70%]">${text}</div>`;
    document.getElementById('chatMessages').appendChild(div);
    document.getElementById('chatMessages').scrollTop = 999999;
}

function getBot(msg) {
    if (KB.greetings.some(g => msg.includes(g))) return 'Merhaba! ğŸ˜Š Size nasÄ±l yardÄ±mcÄ± olabilirim?';
    if (KB.farewell.some(f => msg.includes(f))) return 'GÃ¶rÃ¼ÅŸmek Ã¼zere! ğŸ‘‹';
    if (msg.includes('nasÄ±lsÄ±n')) return 'Ä°yiyim teÅŸekkÃ¼rler! Size mobilya konusunda nasÄ±l yardÄ±mcÄ± olabilirim?';
    
    for (const [key, answer] of Object.entries(KB.questions)) 
function toggleMenu() {
    document.querySelector('.nav-links').classList.toggle('active');
}
render();
</script>
</body>
</html>
